@mixin pill($size) {
    &:first-child {
        padding-left: $size * 2.5px * $padding-ratio !important;
    }

    &:last-child {
        padding-right: $size * 2.5px * $padding-ratio !important;

        &:is(select) {
            padding-right: $size * 4.5px * $padding-ratio + $size + 1 !important;
            background-position: right $size * 2.5px * $padding-ratio center;
        }
    }
}

@mixin pill-button($size) {
    &:first-child {
        padding-left: $size * 2.5px * $padding-ratio !important;
    }

    &:last-child {
        padding-right: $size * 2.5px * $padding-ratio !important;
    }
}

.group {
    display: flex !important;
    align-items: stretch;
    border-radius: 9999px;
    color: $form-c;
    background-color: $form-bg-color;
    border-color: $form-bd-color;
    border-width: 0 !important;
    width: fit-content;

    & > * {
        border-color: inherit !important;
        background-color: inherit !important;
        color: inherit !important;
        display: flex;
        align-items: center;
    }

    & > :not(:first-child) {
        border-top-left-radius: 0 !important;
        border-bottom-left-radius: 0 !important;
        border-left-width: 1px !important;
    }

    & > :not(:last-child) {
        border-top-right-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
        border-right-width: 1px !important;
    }

    &.angular {
        & > * {
            border-radius: 0 !important;
        }
    }
}

.group.pill > * {
    &:first-child {
        border-top-left-radius: 9999px !important;
        border-bottom-left-radius: 9999px !important;
    }

    &:last-child {
        border-top-right-radius: 9999px !important;
        border-bottom-right-radius: 9999px !important;
    }
}

@if $form-shape == "pill" {
    .group:not(.angular):not([class^="br-"]):not([class*=" br-"]) {
        &
            > :not(input[type="button"]):not(input[type="submit"]):not(
                input[type="reset"]
            ):not(button):not(.b):not(.btn):not(.button) {
            @include pill(7);

            &.xs {
                @include pill(5);
            }

            &.sm {
                @include pill(6);
            }

            &.lg {
                @include pill(8);
            }

            &.xl {
                @include pill(9);
            }
        }
    }
} @else {
    .group.pill {
        &
            > :not(input[type="button"]):not(input[type="submit"]):not(
                input[type="reset"]
            ):not(button):not(.b):not(.btn):not(.button) {
            @include pill(7);

            &.xs {
                @include pill(5);
            }

            &.sm {
                @include pill(6);
            }

            &.lg {
                @include pill(8);
            }

            &.xl {
                @include pill(9);
            }
        }
    }
}

@if $button-shape == "pill" {
    .group:not(.angular):not([class^="br-"]):not([class*=" br-"]) {
        & > input[type="button"],
        & > input[type="submit"],
        & > input[type="reset"],
        & > button,
        & > .b,
        & > .btn,
        & > .button {
            @include pill-button(6);

            &.xs {
                @include pill-button(4);
            }

            &.sm {
                @include pill-button(5);
            }

            &.lg {
                @include pill-button(7);
            }

            &.xl {
                @include pill-button(8);
            }
        }
    }
} @else {
    .group.pill {
        & > input[type="button"],
        & > input[type="submit"],
        & > input[type="reset"],
        & > button,
        & > .b,
        & > .btn,
        & > .button {
            @include pill-button(6);

            &.xs {
                @include pill-button(4);
            }

            &.sm {
                @include pill-button(5);
            }

            &.lg {
                @include pill-button(7);
            }

            &.xl {
                @include pill-button(8);
            }
        }
    }
}
